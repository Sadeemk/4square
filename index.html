<!DOCTYPE html>
<html lang="en">
<head>
	<title>4square</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">    
    <link href="main.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="config.js"></script>

    <style>
        html {
            height: 100%;

            background-image: url('/fruits/blue_background.jpg'), url('/fruits/home_background.jpg');
 
            background-position:  top left, center;
            background-repeat: no-repeat, no-repeat;
            background-size: 300px 300px, 100%;     
        }  

    </style>
</head>

<body>
    <div class="navbar">
        <img src= "logo/4SquareLogo.png" alt= "logo" class = "logo">
        <nav>
            <ul>
                <li><a class="homepage" href="#">Home</a></li> 
                <br>
                <li><a class="homepage" href="addField">Add a new field</a></li>                                                
            </ul>
        </nav>
    </div>

    <div class="modal-body" id="fields">        
    </div>    
</body>

<script>
    const uri = '/v2/fields'
    
    $.ajax({
        url: host + uri,
        type: "GET",
        beforeSend: (xhr) => {xhr.setRequestHeader('Authorization', 'Bearer ' + TOKEN)},
        success: (o) => { // object o is the param
            for(var field of o['fields']){ // iterate through each field returned                
                var elem = document.createElement('a')
                elem.href = 'field?cropID=' + field.name + '&fieldId=' + field.id
                elem.innerHTML = '<li>' + field.name + '</li>'
                document.getElementById('fields').appendChild(elem)
            }
        }
    })
    
    /*
    function parseFields(o) { 
        
        for(var field of o['fields']){
            // console.log(field.name);
            // console.log(field.id);
            var elem = document.createElement('a')
            elem.href = 'crops?cropID=' + field.name + '&fieldId=' + field.id
            elem.innerHTML = '<li>' + field.name + '</li>'
            document.getElementById('fields').appendChild(elem)
        }
    }

    $(function() {
        parseFields(allCrops)
    })
    */
    
</script>
</html>