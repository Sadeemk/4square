<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Add a Crop!</title>
    <link rel="stylesheet" href="tooltip.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>  
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <style>
        body {
            height: 100%;

            background-image: url('/fruits/blue_background.jpg'), url('/fruits/crop_background.jpg');
 
            background-position:  top left, center;
            background-repeat: no-repeat, no-repeat;
            background-size: 750px 175px, 100%;     
        }  
    </style>

    <!-- navbar -->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <ul id='navbar' class="navbar-nav">
            <a class="navbar-brand" href="#">Farm2Fresh</a>
            <li class="nav-item">
                <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="addField">Add a Field</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="#" id="curr-field"></a>
            </li>
        </ul>
    </nav>
</head>
<body text = "green">
    <form method="POST">
        <input type="text" name="fieldId" id="input-fieldId" readonly><br>
        Crop:       
        <select name="crop" required>
            <option value="barley-generic">Barley</option>
            <option value="canola-generic">Canola</option>            
            <option value="cotton-2200-gdd">Cotton</option>
            <option value="oat-generic">Oats</option>
            <option value="sugarbeet-generic">Sugarbeet</option>
            <option value="sunflower-generic">Sunflower</option>            
        </select><br>

        Planting Date: 
        <div class="tooltip">(details)
            <span class="tooltiptext">The date the crop was planted in the field.</span>
        </div>
        <input type="text" name="plantingDate" placeholder="YYYY-MM-DD" required><br>

        Projected Yield Amount: 
        <input type="text" name="projectedYieldAmount" required>
        Projected Yield Units:
        <input type="text" name="projectedYieldUnits" required> 
        <div class="tooltip">(details)
            <span class="tooltiptext">The projected yield can be any amount and any units (bushels, boxes, etc). This is an optional set of fields, but if one is set the other must be as well.</span>
        </div><br>

        Projected Harvest Date:
        <input type="text" name="projectedHarvestDate" placeholder="YYYY-MM-DD" required>
        <div class="tooltip">(details)
            <span class="tooltiptext">The projected harvest date at the start of the season.</span>
        </div><br>

        Yield Amount:
        <input type="text" name="actualYieldAmount" required>
        Yield Units:
        <input type="text" name="actualYieldUnits" required>
        <div class="tooltip">(details)
            <span class="tooltiptext">The actual yield can be any amount and any units (bushels, boxes, etc). This is an optional set of fields, but if one is set the other must be as well.</span>
        </div><br>

        Harvest Date:
        <input type="text" name="harvestDate" placeholder="YYYY-MM-DD" required>
        <div class="tooltip">(details)
            <span class="tooltiptext">The actual harvest date at the end of the season.</span>
        </div><br>

        <input type="Submit" value="Submit">
    </form>
</body>
<script>
    const urlv3 = new URL(window.location)
    const paramsv3 = new URLSearchParams(urlv3.search)

    document.getElementById('curr-field').innerHTML = paramsv3.get("fieldId")

    $(document).ready( () => {
        console.log(paramsv3);        
        document.getElementById('input-fieldId').value = paramsv3.get("fieldId")
    })
</script>
</html>