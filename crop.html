<!DOCTYPE html>
<html lang="en">
<head>
    <title>Your Crop!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="main.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="cropInfo.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>
<body>
    <h1  id="crop-name"></h1> 
    <div id="crop-img"></div>
    <div id="crop-facts"></div>
    <div id="weather"></div>   
</body>


<script>
const urlv2 = new URL(window.location)
const paramsv2 = new URLSearchParams(urlv2.search)
const TOKEN = 'MFGEIGpgorDdEzi8PTGkp7bJCMhD' // updated 11:35:48 May 9, expires 12:35:48 May 9
const host = 'https://api.awhere.com'
const uri = '/v2/weather/fields/' + paramsv2.get("fieldId") + '/forecasts?units=usa&limit=3&offset=3'

/* $.ajax({
    url: host + uri,
    type: "GET",
    beforeSend: (xhr) => {xhr.setRequestHeader('Authorization', 'Bearer ' + TOKEN)},
    success: (response) => {
        console.log(response.forecasts[0])  
        for(var i = 0; i < 3;i++){
            console.log('date = ' + response.forecasts[i].date);
            $('#weather').append(
                '<li>'+ 'date = ' + response.forecasts[i].date
            )
            for(var j = 0; j < 24; j++){
                console.log(response.forecasts[i].forecast[j].conditionsText);
                const v = j+1
                $('#weather').append(
                    '<li>Hour:' + j + '-' + v + ' ' + response.forecasts[i].forecast[j].conditionsText 
                )
            }
        }
    }
})
*/

</script>
</html